{% load static %}
<!doctype html>
<html lang="en">

<head>
    <title>Personal Details</title>
        <link rel="icon" href="static/images/ProfileHome/connected.png" type="image/icon type">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/details.css' %}">
    <link rel="stylesheet" href="{% static 'css/test.css' %}">
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
    
        }
        #vanta-canvas {
            margin: 0;
            width: 100%;
            height: 100vh;
  
            position: fixed;
            z-index: -1;
        }
    
        </style>
    
</head>

<body>




    <div id="vanta-canvas"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script>
       VANTA.NET({
            el: "#vanta-canvas",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            scaleMobile: 1.00,
            color: 0x3fb2ff,
            backgroundColor: 0xc0c27,
            points: 20.00,
            maxDistance: 25.00,
            spacing: 18.00
        })
    </script>
    <section class="ftco-section">
         
        <div class="container">

      
            
           <form method="POST" class="signup-form">
                                {% csrf_token %}
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="wrap d-md-flex">
                        <div class="text-wrap p-4 p-lg-10  "  style="background: #0aa9ffb2">

                                                  <style>
                                    #files
                                    {
                                        display: none;
                                    }

                                    #profileImage
                                    {
                                        cursor: pointer;
                                    }

                                    #profile-container {
                                        width: 200px;
                                        height: 200px;
                                        overflow: hidden;
                                        -webkit-border-radius: 50%;
                                        -moz-border-radius: 50%;
                                        -ms-border-radius: 50%;
                                        -o-border-radius: 50%;
                                        border-radius: 50%;
                                        margin-left: 25%;
                                        margin-top: 25%;
                                        margin-bottom: 25%;
                                    }

                                    #profile-container img {
                                        width: 200px;
                                        height: 200px;
                                    }
                                </style>
                                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                                <div id="profile-container">
                                   <image id="profileImage" src="{% static 'images\user-register.png' %}" />
                                </div>
                                <input  type="file" name="files[]" oninput="previewFile()" accept="image/*" id="files">
                                 <input type="hidden" name="url" id="url">


                                <button type="button" onclick="uploadimage()" style="margin-left: 33% ;margin-bottom: 20px; border-radius :20% ; background :#0aa9ff; padding:5px ; width : 100px;  border : 1px #fff solid;">Confirm</button>

                                <script>










                                    $("#profileImage").click(function(e) {
                                    $("#files").click();
                                    });

                                    function fasterPreview( uploader ) {
                                        if ( uploader.files && uploader.files[0] ){
                                            $('#profileImage').attr('src',
                                                window.URL.createObjectURL(uploader.files[0]) );
                                        }
                                    }

                                    $("#files").change(function(){
                                        fasterPreview( this );
                                    });
                                </script>


<!--                                <img src="{% static 'images\user-register.png' %}"  width="200px" onclick="makeimg()" ; style="margin-left: 25%; margin-top: 25%; margin-bottom: 25%;">-->
<!--                                <input  type="file" name="files[]" oninput="previewFile()" accept="image/*" id="files" />-->
<!--                                 <input type="hidden" name="url" id="url">-->

                            <div class="text w-100">
                                <h2 class="mb-4">Welcome to personal signup</h2>
                                <p>Please fill-up your personal information.</p>
                            </div>
                        </div>
                        <div class="login-wrap p-4 p-md-10" style="background: #ffffffee">
                            <h3 class="mb-3">Create an account,<br><p style ="font-size : 40px">{{uname}}</p></h3>

                                <div class="row">

                                    <div class="col-md-10 col-lg-6">
                                        <div class="form-group d-flex align-items-center">
                                            <label class="label" for="name">First Name </label>
                                            <input type="text" class="form-control" name="fname" placeholder="First Name">
                                        </div>
                                    
                                    </div>
                                    <div class="col-md-10 col-lg-6">
                                        <div class="form-group d-flex align-items-center">
                                            <label class="label" for="name">Last Name</label>
                                            <input type="text" class="form-control" name="lname" placeholder="Last Name">
                                        </div>
                                    </div>

                                    
                                    <div class="col-md-12">


                                        <div class="form-group d-flex align-items-center">
                                            <h6 style="color: black ;margin-right: 57px;">Gender</h6>
                                                     {% for choice in gender %}
                                            <input type="radio" name="choice" id="choice{{ choice }}" value="{{ choice }}" style="margin-left:20px;margin-right:5px">
                                            <label for="choice{{ choice }}" >{{ choice }}</label>
                                        {% endfor %}

                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group d-flex align-items-center">
                                            <label class="label" for="website">DOB</label>
                                            <input type="date" name="date" class="form-control" >
                                        </div>
                                    </div>


                                    <div class="col-md-12">

                                        <div class="form-group d-flex align-items-center">
                                            <h6 style="color: black ;margin-right: 6px;">Martial Status</h6>
                                                     {% for choices in status %}
                                            <input type="radio" name="choices" id="choices{{ choices }}" value="{{ choices }}" style="margin-left:20px;margin-right:5px">
                                            <label for="choices{{ choices }}" >{{ choices }}</label>
                                        {% endfor %}
                                                &nbsp;&nbsp;&nbsp;&nbsp;

                                        </div>
                                    </div>
                                    <div class="col-md-12">


                                        <div class="form-group d-flex align-items-center">
                                            <label class="label" for="name">Country</label>
                                            <input type="text" name="country" class="form-control" placeholder="Country">
                                        </div>
                                        <div class="form-group d-flex align-items-center">
                                            <label class="label" for="name">State</label>
                                            <input type="text" name="state" class="form-control" placeholder="State">
                                        </div>
                                    </div>
                                    <div class="col-md-12 my-4">
                                        <div class="form-group">
                                            <div class="w-100">
                                                <label class="checkbox-wrap checkbox-primary">I agree all statements in
                                                    terms of service
                                                    <input type="checkbox" checked>
                                                    <span class="checkmark"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">

                                            <button type="submit" value="Submit"  name="create"    class="btn btn-primary submit p-3" style="margin-left: 30%;" onclick="uploadimage()">Create an
                                                account</button>
                                            <class id="result" name="r"></class>

                                            <script>

                                                function click() {
                                                    var ele = document.getElementsByName('r');

                                                    for(i = 0; i < ele.length; i++) {
                                                        if(ele[i].checked)
                                                        document.getElementById("result").innerHTML
                                                                = ele[i].value;
                                                    }
                                                }
                                            </script>

                                        </div>
                                    </div>
                                </div>

                           
                            <div class="w-100 text-center">
                                <p class="mt-4">I'm already a member! <a href="/login">Sign In</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
               </form>
        </div>
    </section>
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/popper.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/test.js' %}"></script>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js"
        data-cf-beacon='{"rayId":"6676f99b691be289","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2021.6.0","si":10}'></script>

    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
<script>
    var config = {
      apiKey: "AIzaSyCztfnYVUT49K8JVDRsL4z1oSxN8lu7V-E",
    authDomain: "connected-try.firebaseapp.com",
    databaseURL: "https://connected-try-default-rtdb.firebaseio.com",
    projectId: "connected-try",
    storageBucket: "connected-try.appspot.com",
    messagingSenderId: "1004314390323",
    appId: "1:1004314390323:web:51d248e16cdf9e15ac5846",
    measurementId: "G-P0MFRMLT0E"
  };
  firebase.initializeApp(config);

  // Get a reference to the storage service, which is used to create references in your storage bucket

  function uploadimage(){
  var storage = firebase.storage();

  var file = document.getElementById("files").files[0];

  var storageRef = storage.ref();

  var thisref = storageRef.child(file.name).put(file);

  thisref . on('state_changed',function(snapshot){

  console.log("file uplaoded succesfully");

  },
  function(error) {

  },


  function() {
  // Upload completed successfully, now we can get the download URL
  var downloadURL = thisref.snapshot.downloadURL;
  console.log("got url");
  document.getElementById("url").value = downloadURL;
  alert("file uploaded successfully");
});
    }

</script>



</body>

</html>